<!DOCTYPE html>
<!-- Update user info page.-->
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>WebBook</title>
    <th:block th:insert="~{BookMain.html :: link}"></th:block>
</head>
<body>
<div class="container-fluid">
    <div class="row">
<th:block th:replace="~{header.html :: head}"></th:block>
    </div>
    <div class="row">
<th:block th:replace="~{letter.html :: letterPanel}"></th:block>
    </div>
    <div class="row">
<th:block th:replace="~{userMenu.html :: userPanel}"></th:block>

<div class="col-8" style="background-color: #e8e8e8;">

    <p class="authorsListTitle">Update personal data!</p>
    <form  th:action="@{/changeInformation}"  th:object="${user}" method="POST" style="margin-left: 40%;" enctype="multipart/form-data">
        <input type="hidden" name="id" th:field="*{userEmail}"/>
        <input  type="text" th:field="*{userName}" class="active-cyan-4" style="width: 200px; border-radius: 5px;" placeholder="Name" name="editName" size="20" required/><br>
        <span th:if="${#fields.hasErrors('userName')}" th:errors="*{userName}">..</span>
        <input type="password" th:name="password" th:value="${user.password}" class="active-cyan-4" style="width: 200px; border-radius: 5px;" placeholder="Password" name="editPassword" size="20" required /><br>
        <span th:if="${#fields.hasErrors('password')}" th:errors="*{password}">..</span>
        <input type="text" th:field="*{telephoneNumber}" class="active-cyan-4" style="width: 200px; border-radius: 5px;" placeholder="Phone number" name="editPhone" size="20" required/><br>
        <span th:if="${#fields.hasErrors('telephoneNumber')}" th:errors="*{telephoneNumber}">..</span> <br>

        <div class="file-field">
            <div class="z-depth-1-half mb-4" style="width: 100px; height: 100px;">
                <img src="https://mdbootstrap.com/img/Photos/Others/placeholder.jpg" class="img-fluid" style="width: 100px; height: 100px;"
                     alt="choose file">
            </div>
            <div class="d-flex justify-content">
                <div class="btn btn-mdb-color btn-rounded float-left">
                    <span>Choose file</span>
                    <input type="file" th:field="*{image}" name="editFile">
                </div>
            </div>
        </div>

        <input type="submit" class="btn btn-lg btn-primary" value="Edit" ><br>

    </form>
    <div th:if="${editMessage != null}" th:utext="${editMessage}" class="passwordErrorStyle"></div>


</div>

<th:block th:insert="~{genreMenu.html :: genrePanel}"></th:block>
</div>
</div>
<th:block th:insert="~{BookMain.html :: body/script}"></th:block>
</body>
</html>